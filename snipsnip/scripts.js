"use strict";var J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"object"==("undefined"==typeof exports?"undefined":J(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Raven=e()}(function(){return function o(a,s,c){function u(t,e){if(!s[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var i=s[t]={exports:{}};a[t][0].call(i.exports,function(e){return u(a[t][1][e]||e)},i,i.exports,o,a,s,c)}return s[t].exports}for(var l="function"==typeof require&&require,e=0;e<c.length;e++)u(c[e]);return u}({1:[function(e,t,n){function r(e){this.name="RavenConfigError",this.message=e}r.prototype=new Error,t.exports=r.prototype.constructor=r},{}],2:[function(e,t,n){var c=e(5);t.exports={wrapMethod:function(e,r,i){var o=e[r],a=e;if(r in e){var s="warn"===r?"warning":r;e[r]=function(){var e=[].slice.call(arguments),t=c.safeJoin(e," "),n={level:s,logger:"console",extra:{arguments:e}};"assert"===r?!1===e[0]&&(t="Assertion failed: "+(c.safeJoin(e.slice(1)," ")||"console.assert"),n.extra.arguments=e.slice(1),i&&i(t,n)):i&&i(t,n),o&&Function.prototype.apply.call(o,a,e)}}}}},{5:5}],3:[function(H,V,e){(function(e){function i(){return+new Date}function t(t,n){return m(n)?function(e){return n(e,t)}:n}function n(){for(var e in this.a=!("object"!=("undefined"==typeof JSON?"undefined":J(JSON))||!JSON.stringify),this.b=!v(B),this.c=!v(_),this.d=null,this.e=null,this.f=null,this.g=null,this.h=null,this.i=null,this.j={},this.k={release:z.SENTRY_RELEASE&&z.SENTRY_RELEASE.id,logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],headers:null,collectWindowErrors:!0,captureUnhandledRejections:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1,sanitizeKeys:[]},this.l={method:"POST",keepalive:!0,referrerPolicy:L()?"origin":""},this.m=0,this.n=!1,this.o=Error.stackTraceLimit,this.p=z.console||{},this.q={},this.r=[],this.s=i(),this.t=[],this.u=[],this.v=null,this.w=z.location,this.x=this.w&&this.w.href,this.y(),this.p)this.q[e]=this.p[e]}var c=H(6),s=H(7),o=H(8),u=H(1),r=H(5),a=r.isErrorEvent,l=r.isDOMError,f=r.isDOMException,h=r.isError,d=r.isObject,p=r.isPlainObject,v=r.isUndefined,m=r.isFunction,g=r.isString,y=r.isArray,b=r.isEmptyObject,w=r.each,k=r.objectMerge,E=r.truncate,x=r.objectFrozen,C=r.hasKey,S=r.joinRegExp,T=r.urlencode,O=r.uuid4,j=r.htmlTreeAsString,$=r.isSameException,R=r.isSameStacktrace,N=r.parseUrl,A=r.fill,F=r.supportsFetch,L=r.supportsReferrerPolicy,M=r.serializeKeysForMessage,P=r.serializeException,U=r.sanitize,D=H(2).wrapMethod,I="source protocol user pass host port path".split(" "),q=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/,z="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},B=z.document,_=z.navigator;(n.prototype={VERSION:"3.26.4",debug:!1,TraceKit:c,config:function(e,t){var n=this;if(n.g)return this.z("error","Error: Raven has already been configured"),n;if(!e)return n;var r=n.k;t&&w(t,function(e,t){"tags"===e||"extra"===e||"user"===e?n.j[e]=t:r[e]=t}),n.setDSN(e),r.ignoreErrors.push(/^Script error\.?$/),r.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),r.ignoreErrors=S(r.ignoreErrors),r.ignoreUrls=!!r.ignoreUrls.length&&S(r.ignoreUrls),r.whitelistUrls=!!r.whitelistUrls.length&&S(r.whitelistUrls),r.includePaths=S(r.includePaths),r.maxBreadcrumbs=Math.max(0,Math.min(r.maxBreadcrumbs||100,100));var i={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},o=r.autoBreadcrumbs;"[object Object]"==={}.toString.call(o)?o=k(i,o):!1!==o&&(o=i),r.autoBreadcrumbs=o;var a={tryCatch:!0},s=r.instrument;return"[object Object]"==={}.toString.call(s)?s=k(a,s):!1!==s&&(s=a),r.instrument=s,c.collectWindowErrors=!!r.collectWindowErrors,n},install:function(){var e=this;return e.isSetup()&&!e.n&&(c.report.subscribe(function(){e.A.apply(e,arguments)}),e.k.captureUnhandledRejections&&e.B(),e.C(),e.k.instrument&&e.k.instrument.tryCatch&&e.D(),e.k.autoBreadcrumbs&&e.E(),e.F(),e.n=!0),Error.stackTraceLimit=e.k.stackTraceLimit,this},setDSN:function(e){var t=this,n=t.G(e),r=n.path.lastIndexOf("/"),i=n.path.substr(1,r);t.H=e,t.h=n.user,t.I=n.pass&&n.pass.substr(1),t.i=n.path.substr(r+1),t.g=t.J(n),t.K=t.g+"/"+i+"api/"+t.i+"/store/",this.y()},context:function(e,t,n){return m(e)&&(n=t||[],t=e,e={}),this.wrap(e,t).apply(this,n)},wrap:function(r,i,o){function e(){var e=[],t=arguments.length,n=!r||r&&!1!==r.deep;for(o&&m(o)&&o.apply(this,arguments);t--;)e[t]=n?a.wrap(r,arguments[t]):arguments[t];try{return i.apply(this,e)}catch(e){throw a.L(),a.captureException(e,r),e}}var a=this;if(v(i)&&!m(r))return r;if(m(r)&&(i=r,r=void 0),!m(i))return i;try{if(i.M)return i;if(i.N)return i.N}catch(e){return i}for(var t in i)C(i,t)&&(e[t]=i[t]);return e.prototype=i.prototype,(i.N=e).M=!0,e.O=i,e},uninstall:function(){return c.report.uninstall(),this.P(),this.Q(),this.R(),this.S(),Error.stackTraceLimit=this.o,this.n=!1,this},T:function(e){this.z("debug","Raven caught unhandled promise rejection:",e),this.captureException(e.reason,{mechanism:{type:"onunhandledrejection",handled:!1}})},B:function(){return this.T=this.T.bind(this),z.addEventListener&&z.addEventListener("unhandledrejection",this.T),this},P:function(){return z.removeEventListener&&z.removeEventListener("unhandledrejection",this.T),this},captureException:function(t,e){if(e=k({trimHeadFrames:0},e||{}),a(t)&&t.error)t=t.error;else{if(l(t)||f(t)){var n=t.name||(l(t)?"DOMError":"DOMException");return this.captureMessage(t.message?n+": "+t.message:n,k(e,{stacktrace:!0,trimHeadFrames:e.trimHeadFrames+1}))}if(h(t))t=t;else{if(!p(t))return this.captureMessage(t,k(e,{stacktrace:!0,trimHeadFrames:e.trimHeadFrames+1}));e=this.U(e,t),t=new Error(e.message)}}this.d=t;try{var r=c.computeStackTrace(t);this.V(r,e)}catch(e){if(t!==e)throw e}return this},U:function(e,t){var n=Object.keys(t).sort(),r=k(e,{message:"Non-Error exception captured with keys: "+M(n),fingerprint:[o(n)],extra:e.extra||{}});return r.extra.W=P(t),r},captureMessage:function(e,t){if(!this.k.ignoreErrors.test||!this.k.ignoreErrors.test(e)){var n,r=k({message:e+=""},t=t||{});try{throw new Error(e)}catch(e){n=e}n.name=null;var i=c.computeStackTrace(n),o=y(i.stack)&&i.stack[1];o&&"Raven.captureException"===o.func&&(o=i.stack[2]);var a=o&&o.url||"";if((!this.k.ignoreUrls.test||!this.k.ignoreUrls.test(a))&&(!this.k.whitelistUrls.test||this.k.whitelistUrls.test(a))){if(this.k.stacktrace||t.stacktrace||""===r.message){r.fingerprint=null==r.fingerprint?e:r.fingerprint,(t=k({trimHeadFrames:0},t)).trimHeadFrames+=1;var s=this.X(i,t);r.stacktrace={frames:s.reverse()}}return r.fingerprint&&(r.fingerprint=y(r.fingerprint)?r.fingerprint:[r.fingerprint]),this.Y(r),this}}},captureBreadcrumb:function(e){var t=k({timestamp:i()/1e3},e);if(m(this.k.breadcrumbCallback)){var n=this.k.breadcrumbCallback(t);if(d(n)&&!b(n))t=n;else if(!1===n)return this}return this.u.push(t),this.k.maxBreadcrumbs<this.u.length&&this.u.shift(),this},addPlugin:function(e){var t=[].slice.call(arguments,1);return this.r.push([e,t]),this.n&&this.F(),this},setUserContext:function(e){return this.j.user=e,this},setExtraContext:function(e){return this.Z("extra",e),this},setTagsContext:function(e){return this.Z("tags",e),this},clearContext:function(){return this.j={},this},getContext:function(){return JSON.parse(s(this.j))},setEnvironment:function(e){return this.k.environment=e,this},setRelease:function(e){return this.k.release=e,this},setDataCallback:function(e){return this.k.dataCallback=t(this.k.dataCallback,e),this},setBreadcrumbCallback:function(e){return this.k.breadcrumbCallback=t(this.k.breadcrumbCallback,e),this},setShouldSendCallback:function(e){return this.k.shouldSendCallback=t(this.k.shouldSendCallback,e),this},setTransport:function(e){return this.k.transport=e,this},lastException:function(){return this.d},lastEventId:function(){return this.f},isSetup:function(){return!(!this.a||!this.g&&(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this.z("error","Error: Raven has not been configured.")),1))},afterLoad:function(){var e=z.RavenConfig;e&&this.config(e.dsn,e.config).install()},showReportDialog:function(e){if(B){if(!(e=Object.assign({eventId:this.lastEventId(),dsn:this.H,user:this.j.user||{}},e)).eventId)throw new u("Missing eventId");if(!e.dsn)throw new u("Missing DSN");var t=encodeURIComponent,n=[];for(var r in e)if("user"===r){var i=e.user;i.name&&n.push("name="+t(i.name)),i.email&&n.push("email="+t(i.email))}else n.push(t(r)+"="+t(e[r]));var o=this.J(this.G(e.dsn)),a=B.createElement("script");a.async=!0,a.src=o+"/api/embed/error-page/?"+n.join("&"),(B.head||B.body).appendChild(a)}},L:function(){var e=this;this.m+=1,setTimeout(function(){e.m-=1})},$:function(e,t){var n,r;if(this.b){for(r in t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),B.createEvent?(n=B.createEvent("HTMLEvents")).initEvent(e,!0,!0):(n=B.createEventObject()).eventType=e,t)C(t,r)&&(n[r]=t[r]);if(B.createEvent)B.dispatchEvent(n);else try{B.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(e){}}},_:function(n){var r=this;return function(e){if(r.aa=null,r.v!==e){var t;r.v=e;try{t=j(e.target)}catch(e){t="<unknown>"}r.captureBreadcrumb({category:"ui."+n,message:t})}}},ba:function(){var i=this;return function(e){var t;try{t=e.target}catch(e){return}var n=t&&t.tagName;if(n&&("INPUT"===n||"TEXTAREA"===n||t.isContentEditable)){var r=i.aa;r||i._("input")(e),clearTimeout(r),i.aa=setTimeout(function(){i.aa=null},1e3)}}},ca:function(e,t){var n=N(this.w.href),r=N(t),i=N(e);this.x=t,n.protocol===r.protocol&&n.host===r.host&&(t=r.relative),n.protocol===i.protocol&&n.host===i.host&&(e=i.relative),this.captureBreadcrumb({category:"navigation",data:{to:t,from:e}})},C:function(){var e=this;e.da=Function.prototype.toString,Function.prototype.toString=function(){return e.da.apply("function"==typeof this&&this.M?this.O:this,arguments)}},Q:function(){this.da&&(Function.prototype.toString=this.da)},D:function(){function e(o){return function(e,t){for(var n=new Array(arguments.length),r=0;r<n.length;++r)n[r]=arguments[r];var i=n[0];return m(i)&&(n[0]=u.wrap({mechanism:{type:"instrument",data:{function:o.name||"<anonymous>"}}},i)),o.apply?o.apply(this,n):o(n[0],n[1])}}function t(c){var e=z[c]&&z[c].prototype;e&&e.hasOwnProperty&&e.hasOwnProperty("addEventListener")&&(A(e,"addEventListener",function(s){return function(e,t,n,r){try{t&&t.handleEvent&&(t.handleEvent=u.wrap({mechanism:{type:"instrument",data:{target:c,function:"handleEvent",handler:t&&t.name||"<anonymous>"}}},t.handleEvent))}catch(e){}var i,o,a;return l&&l.dom&&("EventTarget"===c||"Node"===c)&&(o=u._("click"),a=u.ba(),i=function(e){if(e){var t;try{t=e.type}catch(e){return}return"click"===t?o(e):"keypress"===t?a(e):void 0}}),s.call(this,e,u.wrap({mechanism:{type:"instrument",data:{target:c,function:"addEventListener",handler:t&&t.name||"<anonymous>"}}},t,i),n,r)}},n),A(e,"removeEventListener",function(i){return function(e,t,n,r){try{t=t&&(t.N?t.N:t)}catch(e){}return i.call(this,e,t,n,r)}},n))}var u=this,n=u.t,l=this.k.autoBreadcrumbs;A(z,"setTimeout",e,n),A(z,"setInterval",e,n),z.requestAnimationFrame&&A(z,"requestAnimationFrame",function(t){return function(e){return t(u.wrap({mechanism:{type:"instrument",data:{function:"requestAnimationFrame",handler:t&&t.name||"<anonymous>"}}},e))}},n);for(var r=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],i=0;i<r.length;i++)t(r[i])},E:function(){function o(t,e){t in e&&m(e[t])&&A(e,t,function(e){return s.wrap({mechanism:{type:"instrument",data:{function:t,handler:e&&e.name||"<anonymous>"}}},e)})}var s=this,e=this.k.autoBreadcrumbs,t=s.t;if(e.xhr&&"XMLHttpRequest"in z){var n=z.XMLHttpRequest&&z.XMLHttpRequest.prototype;A(n,"open",function(n){return function(e,t){return g(t)&&-1===t.indexOf(s.h)&&(this.ea={method:e,url:t,status_code:null}),n.apply(this,arguments)}},t),A(n,"send",function(i){return function(){function t(){if(e.ea&&4===e.readyState){try{e.ea.status_code=e.status}catch(e){}s.captureBreadcrumb({type:"http",category:"xhr",data:e.ea})}}for(var e=this,n=["onload","onerror","onprogress"],r=0;r<n.length;r++)o(n[r],e);return"onreadystatechange"in e&&m(e.onreadystatechange)?A(e,"onreadystatechange",function(e){return s.wrap({mechanism:{type:"instrument",data:{function:"onreadystatechange",handler:e&&e.name||"<anonymous>"}}},e,t)}):e.onreadystatechange=t,i.apply(this,arguments)}},t)}e.xhr&&F()&&A(z,"fetch",function(a){return function(){for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];var n,r=e[0],i="GET";if("string"==typeof r?n=r:"Request"in z&&r instanceof z.Request?(n=r.url,r.method&&(i=r.method)):n=""+r,-1!==n.indexOf(s.h))return a.apply(this,e);e[1]&&e[1].method&&(i=e[1].method);var o={method:i,url:n,status_code:null};return a.apply(this,e).then(function(e){return o.status_code=e.status,s.captureBreadcrumb({type:"http",category:"fetch",data:o}),e}).catch(function(e){throw s.captureBreadcrumb({type:"http",category:"fetch",data:o,level:"error"}),e})}},t),e.dom&&this.b&&(B.addEventListener?(B.addEventListener("click",s._("click"),!1),B.addEventListener("keypress",s.ba(),!1)):B.attachEvent&&(B.attachEvent("onclick",s._("click")),B.attachEvent("onkeypress",s.ba())));var r=z.chrome;if(e.location&&!(r&&r.app&&r.app.runtime)&&z.history&&z.history.pushState&&z.history.replaceState){var i=z.onpopstate;z.onpopstate=function(){if(s.ca(s.x,s.w.href),i)return i.apply(this,arguments)};var a=function(t){return function(){var e=2<arguments.length?arguments[2]:void 0;return e&&s.ca(s.x,e+""),t.apply(this,arguments)}};A(z.history,"pushState",a,t),A(z.history,"replaceState",a,t)}if(e.console&&"console"in z&&console.log){var c=function(e,t){s.captureBreadcrumb({message:e,level:t.level,category:"console"})};w(["debug","info","warn","error","log"],function(e,t){D(console,t,c)})}},R:function(){for(var e;this.t.length;)(e=this.t.shift())[0][e[1]]=e[2]},S:function(){for(var e in this.q)this.p[e]=this.q[e]},F:function(){var n=this;w(this.r,function(e,t){t[0].apply(n,[n].concat(t[1]))})},G:function(t){var e=q.exec(t),n={},r=7;try{for(;r--;)n[I[r]]=e[r]||""}catch(e){throw new u("Invalid DSN: "+t)}if(n.pass&&!this.k.allowSecretKey)throw new u("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},J:function(e){var t="//"+e.host+(e.port?":"+e.port:"");return e.protocol&&(t=e.protocol+":"+t),t},A:function(e,t){(t=t||{}).mechanism=t.mechanism||{type:"onerror",handled:!1},this.m||this.V(e,t)},V:function(e,t){var n=this.X(e,t);this.$("handle",{stackInfo:e,options:t}),this.fa(e.name,e.message,e.url,e.lineno,n,t)},X:function(r,e){var i=this,o=[];if(r.stack&&r.stack.length&&(w(r.stack,function(e,t){var n=i.ga(t,r.url);n&&o.push(n)}),e&&e.trimHeadFrames))for(var t=0;t<e.trimHeadFrames&&t<o.length;t++)o[t].in_app=!1;return o=o.slice(0,this.k.stackTraceLimit)},ga:function(e,t){var n={filename:e.url,lineno:e.line,colno:e.column,function:e.func||"?"};return e.url||(n.filename=t),n.in_app=!(this.k.includePaths.test&&!this.k.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n.function)||/raven\.(min\.)?js$/.test(n.filename)),n},fa:function(e,t,n,r,i,o){var a,s=(e?e+": ":"")+(t||"");if((!this.k.ignoreErrors.test||!this.k.ignoreErrors.test(t)&&!this.k.ignoreErrors.test(s))&&(i&&i.length?(n=i[0].filename||n,i.reverse(),a={frames:i}):n&&(a={frames:[{filename:n,lineno:r,in_app:!0}]}),(!this.k.ignoreUrls.test||!this.k.ignoreUrls.test(n))&&(!this.k.whitelistUrls.test||this.k.whitelistUrls.test(n)))){var c=k({exception:{values:[{type:e,value:t,stacktrace:a}]},transaction:n},o),u=c.exception.values[0];null==u.type&&""===u.value&&(u.value="Unrecoverable error caught"),!c.exception.mechanism&&c.mechanism&&(c.exception.mechanism=c.mechanism,delete c.mechanism),c.exception.mechanism=k({type:"generic",handled:!0},c.exception.mechanism||{}),this.Y(c)}},ha:function(e){var t=this.k.maxMessageLength;if(e.message&&(e.message=E(e.message,t)),e.exception){var n=e.exception.values[0];n.value=E(n.value,t)}var r=e.request;return r&&(r.url&&(r.url=E(r.url,this.k.maxUrlLength)),r.Referer&&(r.Referer=E(r.Referer,this.k.maxUrlLength))),e.breadcrumbs&&e.breadcrumbs.values&&this.ia(e.breadcrumbs),e},ia:function(e){for(var t,n,r,i=["to","from","url"],o=0;o<e.values.length;++o)if((n=e.values[o]).hasOwnProperty("data")&&d(n.data)&&!x(n.data)){r=k({},n.data);for(var a=0;a<i.length;++a)r.hasOwnProperty(t=i[a])&&r[t]&&(r[t]=E(r[t],this.k.maxUrlLength));e.values[o].data=r}},ja:function(){if(this.c||this.b){var e={};return this.c&&_.userAgent&&(e.headers={"User-Agent":_.userAgent}),z.location&&z.location.href&&(e.url=z.location.href),this.b&&B.referrer&&(e.headers||(e.headers={}),e.headers.Referer=B.referrer),e}},y:function(){this.ka=0,this.la=null},ma:function(){return this.ka&&i()-this.la<this.ka},na:function(e){var t=this.e;return!(!t||e.message!==t.message||e.transaction!==t.transaction)&&(e.stacktrace||t.stacktrace?R(e.stacktrace,t.stacktrace):!e.exception&&!t.exception||$(e.exception,t.exception))},oa:function(e){if(!this.ma()){var t=e.status;if(400===t||401===t||429===t){var n;try{n=F()?e.headers.get("Retry-After"):e.getResponseHeader("Retry-After"),n=1e3*parseInt(n,10)}catch(e){}this.ka=n||2*this.ka||1e3,this.la=i()}}},Y:function(t){var e=this.k,n={project:this.i,logger:e.logger,platform:"javascript"},r=this.ja();if(r&&(n.request=r),t.trimHeadFrames&&delete t.trimHeadFrames,(t=k(n,t)).tags=k(k({},this.j.tags),t.tags),t.extra=k(k({},this.j.extra),t.extra),t.extra["session:duration"]=i()-this.s,this.u&&0<this.u.length&&(t.breadcrumbs={values:[].slice.call(this.u,0)}),this.j.user&&(t.user=this.j.user),e.environment&&(t.environment=e.environment),e.release&&(t.release=e.release),e.serverName&&(t.server_name=e.serverName),t=this.pa(t),Object.keys(t).forEach(function(e){(null==t[e]||""===t[e]||b(t[e]))&&delete t[e]}),m(e.dataCallback)&&(t=e.dataCallback(t)||t),t&&!b(t)&&(!m(e.shouldSendCallback)||e.shouldSendCallback(t)))return this.ma()?void this.z("warn","Raven dropped error due to backoff: ",t):void("number"==typeof e.sampleRate?Math.random()<e.sampleRate&&this.qa(t):this.qa(t))},pa:function(e){return U(e,this.k.sanitizeKeys)},ra:function(){return O()},qa:function(t,n){var r=this,e=this.k;if(this.isSetup()){if(t=this.ha(t),!this.k.allowDuplicates&&this.na(t))return void this.z("warn","Raven dropped repeat event: ",t);this.f=t.event_id||(t.event_id=this.ra()),this.e=t,this.z("debug","Raven about to send:",t);var i={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this.h};this.I&&(i.sentry_secret=this.I);var o=t.exception&&t.exception.values[0];this.k.autoBreadcrumbs&&this.k.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:o?(o.type?o.type+": ":"")+o.value:t.message,event_id:t.event_id,level:t.level||"error"});var a=this.K;(e.transport||this._makeRequest).call(this,{url:a,auth:i,data:t,options:e,onSuccess:function(){r.y(),r.$("success",{data:t,src:a}),n&&n()},onError:function(e){r.z("error","Raven transport failed to send: ",e),e.request&&r.oa(e.request),r.$("failure",{data:t,src:a}),e=e||new Error("Raven send failed (no additional details provided)"),n&&n(e)}})}},_makeRequest:function(n){var e=n.url+"?"+T(n.auth),t=null,r={};if(n.options.headers&&(t=this.sa(n.options.headers)),n.options.fetchParameters&&(r=this.sa(n.options.fetchParameters)),F()){r.body=s(n.data);var i=k({},this.l),o=k(i,r);return t&&(o.headers=t),z.fetch(e,o).then(function(e){if(e.ok)n.onSuccess&&n.onSuccess();else{var t=new Error("Sentry error code: "+e.status);t.request=e,n.onError&&n.onError(t)}}).catch(function(){n.onError&&n.onError(new Error("Sentry error code: network unavailable"))})}var a=z.XMLHttpRequest&&new z.XMLHttpRequest;a&&("withCredentials"in a||"undefined"!=typeof XDomainRequest)&&("withCredentials"in a?a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status)n.onSuccess&&n.onSuccess();else if(n.onError){var e=new Error("Sentry error code: "+a.status);e.request=a,n.onError(e)}}:(a=new XDomainRequest,e=e.replace(/^https?:/,""),n.onSuccess&&(a.onload=n.onSuccess),n.onError&&(a.onerror=function(){var e=new Error("Sentry error code: XDomainRequest");e.request=a,n.onError(e)})),a.open("POST",e),t&&w(t,function(e,t){a.setRequestHeader(e,t)}),a.send(s(n.data)))},sa:function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t[n]="function"==typeof r?r():r}return t},z:function(e){this.q[e]&&(this.debug||this.k.debug)&&Function.prototype.apply.call(this.q[e],this.p,[].slice.call(arguments,1))},Z:function(e,t){v(t)?delete this.j[e]:this.j[e]=k(this.j[e]||{},t)}}).setUser=n.prototype.setUserContext,n.prototype.setReleaseContext=n.prototype.setRelease,V.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:1,2:2,5:5,6:6,7:7,8:8}],4:[function(o,a,e){(function(e){var t=o(3),n="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},r=n.Raven,i=new t;i.noConflict=function(){return n.Raven=r,i},i.afterLoad(),a.exports=i,a.exports.Client=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{3:3}],5:[function(m,g,e){(function(e){function i(e){return void 0===e}function s(e){return"[object Object]"===Object.prototype.toString.call(e)}function c(e){return"[object String]"===Object.prototype.toString.call(e)}function o(e){return"[object Array]"===Object.prototype.toString.call(e)}function t(){if(!("fetch"in v))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function r(e,t){var n,r;if(i(e.length))for(n in e)a(e,n)&&t.call(null,n,e[n]);else if(r=e.length)for(n=0;n<r;n++)t.call(null,n,e[n])}function n(e,t){if("number"!=typeof t)throw new Error("2nd argument to `truncate` function should be a number");return"string"!=typeof e||0===t?e:e.length<=t?e:e.substr(0,t)+"…"}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){for(var t,n=[],r=0,i=e.length;r<i;r++)c(t=e[r])?n.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&n.push(t.source);return new RegExp(n.join("|"),"i")}function l(e){var t,n,r,i,o,a=[];if(!e||!e.tagName)return"";if(a.push(e.tagName.toLowerCase()),e.id&&a.push("#"+e.id),(t=e.className)&&c(t))for(n=t.split(/\s+/),o=0;o<n.length;o++)a.push("."+n[o]);var s=["type","name","title","alt"];for(o=0;o<s.length;o++)(i=e.getAttribute(r=s[o]))&&a.push("["+r+'="'+i+'"]');return a.join("")}function f(e,t){return!!(!!e^!!t)}function h(e,t){if(f(e,t))return!1;var n=e.frames,r=t.frames;if(void 0===n||void 0===r)return!1;if(n.length!==r.length)return!1;for(var i,o,a=0;a<n.length;a++)if((i=n[a]).filename!==(o=r[a]).filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1;return!0}function d(e){if("string"==typeof e)return n(e,40);if("number"==typeof e||"boolean"==typeof e||void 0===e)return e;var t=Object.prototype.toString.call(e);return"[object Object]"===t?"[Object]":"[object Array]"===t?"[Array]":"[object Function]"===t?e.name?"[Function: "+e.name+"]":"[Function]":e}var p=m(7),v="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};g.exports={isObject:function(e){return"object"==(void 0===e?"undefined":J(e))&&null!==e},isError:function(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}},isErrorEvent:function(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)},isDOMError:function(e){return"[object DOMError]"===Object.prototype.toString.call(e)},isDOMException:function(e){return"[object DOMException]"===Object.prototype.toString.call(e)},isUndefined:i,isFunction:function(e){return"function"==typeof e},isPlainObject:s,isString:c,isArray:o,isEmptyObject:function(e){if(!s(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},supportsErrorEvent:function(){try{return new ErrorEvent(""),!0}catch(e){return!1}},supportsDOMError:function(){try{return new DOMError(""),!0}catch(e){return!1}},supportsDOMException:function(){try{return new DOMException(""),!0}catch(e){return!1}},supportsFetch:t,supportsReferrerPolicy:function(){if(!t())return!1;try{return new Request("pickleRick",{referrerPolicy:"origin"}),!0}catch(e){return!1}},supportsPromiseRejectionEvent:function(){return"function"==typeof PromiseRejectionEvent},wrappedCallback:function(r){return function(e,t){var n=r(e)||e;return t&&t(n)||n}},each:r,objectMerge:function(n,e){return e&&r(e,function(e,t){n[e]=t}),n},truncate:n,objectFrozen:function(e){return!!Object.isFrozen&&Object.isFrozen(e)},hasKey:a,joinRegExp:u,urlencode:function(e){var n=[];return r(e,function(e,t){n.push(encodeURIComponent(e)+"="+encodeURIComponent(t))}),n.join("&")},uuid4:function(){var e=v.crypto||v.msCrypto;if(!i(e)&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;var n=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return n(t[0])+n(t[1])+n(t[2])+n(t[3])+n(t[4])+n(t[5])+n(t[6])+n(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},htmlTreeAsString:function(e){for(var t,n=[],r=0,i=0,o=" > ".length;e&&r++<5&&!("html"===(t=l(e))||1<r&&80<=i+n.length*o+t.length);)n.push(t),i+=t.length,e=e.parentNode;return n.reverse().join(" > ")},htmlElementAsString:l,isSameException:function(e,t){return!f(e,t)&&(e=e.values[0]).type===(t=t.values[0]).type&&e.value===t.value&&(n=t.stacktrace,!(i(e.stacktrace)&&i(n)))&&h(e.stacktrace,t.stacktrace);var n},isSameStacktrace:h,parseUrl:function(e){if("string"!=typeof e)return{};var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);return{protocol:t[2],host:t[4],path:t[5],relative:t[5]+(t[6]||"")+(t[8]||"")}},fill:function(e,t,n,r){if(null!=e){var i=e[t];e[t]=n(i),e[t].M=!0,e[t].O=i,r&&r.push([e,t,i])}},safeJoin:function(e,t){if(!o(e))return"";for(var n=[],r=0;r<e.length;r++)try{n.push(String(e[r]))}catch(e){n.push("[value cannot be serialized]")}return n.join(t)},serializeException:function e(t,n,r){if(!s(t))return t;r="number"!=typeof(n="number"!=typeof n?3:n)?51200:r;var i,o,a=function n(r,i){return 0===i?d(r):s(r)?Object.keys(r).reduce(function(e,t){return e[t]=n(r[t],i-1),e},{}):Array.isArray(r)?r.map(function(e){return n(e,i-1)}):d(r)}(t,n);return i=p(a),o=JSON.stringify(i),~-encodeURI(o).split(/%..|./).length>r?e(t,n-1):a},serializeKeysForMessage:function(e,t){if("number"==typeof e||"string"==typeof e)return e.toString();if(!Array.isArray(e))return"";if(0===(e=e.filter(function(e){return"string"==typeof e})).length)return"[object has no keys]";if((t="number"!=typeof t?40:t)<=e[0].length)return e[0];for(var n=e.length;0<n;n--){var r=e.slice(0,n).join(", ");if(!(t<r.length))return n===e.length?r:r+"…"}return""},sanitize:function(t,e){if(!o(e)||o(e)&&0===e.length)return t;var n,i=u(e);try{n=JSON.parse(p(t))}catch(e){return t}return function n(r){return o(r)?r.map(function(e){return n(e)}):s(r)?Object.keys(r).reduce(function(e,t){return e[t]=i.test(t)?"********":n(r[t]),e},{}):r}(n)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{7:7}],6:[function(t,n,e){(function(e){function y(){return"undefined"==typeof document||null==document.location?"":document.location.href}var p=t(5),v={collectWindowErrors:!0,debug:!1},r="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},s=[].slice,m=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;v.report=function(){function l(e,t){var n=null;if(!t||v.collectWindowErrors){for(var r in i)if(i.hasOwnProperty(r))try{i[r].apply(null,[e].concat(s.call(arguments,2)))}catch(e){n=e}if(n)throw n}}function t(e,t,n,r,i){var o=p.isErrorEvent(i)?i.error:i,a=p.isErrorEvent(e)?e.message:e;if(d)v.computeStackTrace.augmentStackTraceWithInitialElement(d,t,n,a),f();else if(o&&p.isError(o))l(v.computeStackTrace(o),!0);else{var s,c={url:t,line:n,column:r},u=void 0;"[object String]"==={}.toString.call(a)&&(s=a.match(m))&&(u=s[1],a=s[2]),c.func="?",l({name:u,message:a,url:y(),stack:[c]},!0)}return!!h&&h.apply(this,arguments)}function f(){var e=d,t=o;l.apply(a=d=o=null,[e,!1].concat(t))}function e(e,t){var n=s.call(arguments,1);if(d){if(a===e)return;f()}var r=v.computeStackTrace(e);if(d=r,a=e,o=n,setTimeout(function(){a===e&&f()},r.incomplete?2e3:0),!1!==t)throw e}var h,n,i=[],o=null,a=null,d=null;return e.subscribe=function(e){n||(h=r.onerror,r.onerror=t,n=!0),i.push(e)},e.unsubscribe=function(e){for(var t=i.length-1;0<=t;--t)i[t]===e&&i.splice(t,1)},e.uninstall=function(){n&&(r.onerror=h,n=!1,h=void 0),i=[]},e}(),v.computeStackTrace=function(){function r(e){if(void 0!==e.stack&&e.stack){for(var t,n,r,i=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,o=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,a=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,s=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,c=/\((\S*)(?::(\d+))(?::(\d+))\)/,u=e.stack.split("\n"),l=[],f=(/^(.*) is undefined$/.exec(e.message),0),h=u.length;f<h;++f){if(n=i.exec(u[f])){var d=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=c.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),r={url:d?null:n[2],func:n[1]||"?",args:d?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=o.exec(u[f]))r={url:n[2],func:n[1]||"?",args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=a.exec(u[f])))continue;n[3]&&-1<n[3].indexOf(" > eval")&&(t=s.exec(n[3]))?(n[3]=t[1],n[4]=t[2],n[5]=null):0!==f||n[5]||void 0===e.columnNumber||(l[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||"?",args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}if(!r.func&&r.line&&(r.func="?"),r.url&&"blob:"===r.url.substr(0,5)){var p=new XMLHttpRequest;if(p.open("GET",r.url,!1),p.send(null),200===p.status){var v=p.responseText||"",m=(v=v.slice(-300)).match(/\/\/# sourceMappingURL=(.*)$/);if(m){var g=m[1];"~"===g.charAt(0)&&(g=("undefined"==typeof document||null==document.location?"":document.location.origin?document.location.origin:document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:""))+g.slice(1)),r.url=g.slice(0,-4)}}}l.push(r)}return l.length?{name:e.name,message:e.message,url:y(),stack:l}:null}}function l(e,t,n,r){var i={url:t,line:n};if(i.url&&i.line){if(e.incomplete=!1,i.func||(i.func="?"),0<e.stack.length&&e.stack[0].url===i.url){if(e.stack[0].line===i.line)return!1;if(!e.stack[0].line&&e.stack[0].func===i.func)return e.stack[0].line=i.line,!1}return e.stack.unshift(i),e.partial=!0}return!(e.incomplete=!0)}function f(e,t){for(var n,r,i=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,o=[],a={},s=!1,c=f.caller;c&&!s;c=c.caller)if(c!==h&&c!==v.report){if(r={url:null,func:"?",line:null,column:null},c.name?r.func=c.name:(n=i.exec(c.toString()))&&(r.func=n[1]),void 0===r.func)try{r.func=n.input.substring(0,n.input.indexOf("{"))}catch(e){}a[""+c]?s=!0:a[""+c]=!0,o.push(r)}t&&o.splice(0,t);var u={name:e.name,message:e.message,url:y(),stack:o};return l(u,e.sourceURL||e.fileName,e.line||e.lineNumber),u}function h(e,t){var n=null;t=null==t?0:+t;try{if(n=r(e))return n}catch(e){if(v.debug)throw e}try{if(n=f(e,t+1))return n}catch(e){if(v.debug)throw e}return{name:e.name,message:e.message,url:y()}}return h.augmentStackTraceWithInitialElement=l,h.computeStackTraceFromStackProp=r,h}(),n.exports=v}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{5:5}],7:[function(e,t,n){function s(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function i(r,i){var o=[],a=[];return null==i&&(i=function(e,t){return o[0]===t?"[Circular ~]":"[Circular ~."+a.slice(0,s(o,t)).join(".")+"]"}),function(e,t){if(0<o.length){var n=s(o,this);~n?o.splice(n+1):o.push(this),~n?a.splice(n,1/0,e):a.push(e),~s(o,t)&&(t=i.call(this,e,t))}else o.push(t);return null==r?t instanceof Error?function(e){var t={stack:e.stack,message:e.message,name:e.name};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(t):t:r.call(this,e,t)}}(t.exports=function(e,t,n,r){return JSON.stringify(e,i(t,r),n)}).getSerialize=i},{}],8:[function(e,t,n){function f(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function s(e,t,n,r,i,o){return f((a=f(f(t,e),f(r,o)))<<(s=i)|a>>>32-s,n);var a,s}function h(e,t,n,r,i,o,a){return s(t&n|~t&r,e,t,i,o,a)}function d(e,t,n,r,i,o,a){return s(t&r|n&~r,e,t,i,o,a)}function p(e,t,n,r,i,o,a){return s(t^n^r,e,t,i,o,a)}function v(e,t,n,r,i,o,a){return s(n^(t|~r),e,t,i,o,a)}function c(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var n,r,i,o,a,s=1732584193,c=-271733879,u=-1732584194,l=271733878;for(n=0;n<e.length;n+=16)c=v(c=v(c=v(c=v(c=p(c=p(c=p(c=p(c=d(c=d(c=d(c=d(c=h(c=h(c=h(c=h(i=c,u=h(o=u,l=h(a=l,s=h(r=s,c,u,l,e[n],7,-680876936),c,u,e[n+1],12,-389564586),s,c,e[n+2],17,606105819),l,s,e[n+3],22,-1044525330),u=h(u,l=h(l,s=h(s,c,u,l,e[n+4],7,-176418897),c,u,e[n+5],12,1200080426),s,c,e[n+6],17,-1473231341),l,s,e[n+7],22,-45705983),u=h(u,l=h(l,s=h(s,c,u,l,e[n+8],7,1770035416),c,u,e[n+9],12,-1958414417),s,c,e[n+10],17,-42063),l,s,e[n+11],22,-1990404162),u=h(u,l=h(l,s=h(s,c,u,l,e[n+12],7,1804603682),c,u,e[n+13],12,-40341101),s,c,e[n+14],17,-1502002290),l,s,e[n+15],22,1236535329),u=d(u,l=d(l,s=d(s,c,u,l,e[n+1],5,-165796510),c,u,e[n+6],9,-1069501632),s,c,e[n+11],14,643717713),l,s,e[n],20,-373897302),u=d(u,l=d(l,s=d(s,c,u,l,e[n+5],5,-701558691),c,u,e[n+10],9,38016083),s,c,e[n+15],14,-660478335),l,s,e[n+4],20,-405537848),u=d(u,l=d(l,s=d(s,c,u,l,e[n+9],5,568446438),c,u,e[n+14],9,-1019803690),s,c,e[n+3],14,-187363961),l,s,e[n+8],20,1163531501),u=d(u,l=d(l,s=d(s,c,u,l,e[n+13],5,-1444681467),c,u,e[n+2],9,-51403784),s,c,e[n+7],14,1735328473),l,s,e[n+12],20,-1926607734),u=p(u,l=p(l,s=p(s,c,u,l,e[n+5],4,-378558),c,u,e[n+8],11,-2022574463),s,c,e[n+11],16,1839030562),l,s,e[n+14],23,-35309556),u=p(u,l=p(l,s=p(s,c,u,l,e[n+1],4,-1530992060),c,u,e[n+4],11,1272893353),s,c,e[n+7],16,-155497632),l,s,e[n+10],23,-1094730640),u=p(u,l=p(l,s=p(s,c,u,l,e[n+13],4,681279174),c,u,e[n],11,-358537222),s,c,e[n+3],16,-722521979),l,s,e[n+6],23,76029189),u=p(u,l=p(l,s=p(s,c,u,l,e[n+9],4,-640364487),c,u,e[n+12],11,-421815835),s,c,e[n+15],16,530742520),l,s,e[n+2],23,-995338651),u=v(u,l=v(l,s=v(s,c,u,l,e[n],6,-198630844),c,u,e[n+7],10,1126891415),s,c,e[n+14],15,-1416354905),l,s,e[n+5],21,-57434055),u=v(u,l=v(l,s=v(s,c,u,l,e[n+12],6,1700485571),c,u,e[n+3],10,-1894986606),s,c,e[n+10],15,-1051523),l,s,e[n+1],21,-2054922799),u=v(u,l=v(l,s=v(s,c,u,l,e[n+8],6,1873313359),c,u,e[n+15],10,-30611744),s,c,e[n+6],15,-1560198380),l,s,e[n+13],21,1309151649),u=v(u,l=v(l,s=v(s,c,u,l,e[n+4],6,-145523070),c,u,e[n+11],10,-1120210379),s,c,e[n+2],15,718787259),l,s,e[n+9],21,-343485551),s=f(s,r),c=f(c,i),u=f(u,o),l=f(l,a);return[s,c,u,l]}function u(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function l(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function r(e){var t,n,r="0123456789abcdef",i="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),i+=r.charAt(t>>>4&15)+r.charAt(15&t);return i}function i(e){return unescape(encodeURIComponent(e))}function o(e){return u(c(l(t=i(e)),8*t.length));var t}function a(e,t){return function(e,t){var n,r,i=l(e),o=[],a=[];for(o[15]=a[15]=void 0,16<i.length&&(i=c(i,8*e.length)),n=0;n<16;n+=1)o[n]=909522486^i[n],a[n]=1549556828^i[n];return r=c(o.concat(l(t)),512+8*t.length),u(c(a.concat(r),640))}(i(e),i(t))}t.exports=function(e,t,n){return t?n?a(t,e):r(a(t,e)):n?o(e):r(o(e))}},{}]},{},[4])(4)}),function(e,t){"function"==typeof define&&define.amd?define(function(){return t(e)}):t(e)}(window,function(Z){var e=function(){function c(e){return null==e?String(e):z[B.call(e)]||"object"}function a(e){return"function"==c(e)}function o(e){return null!=e&&e==e.window}function s(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function r(e){return"object"==c(e)}function u(e){return r(e)&&!o(e)&&Object.getPrototypeOf(e)==Object.prototype}function l(e){var t=!!e&&"length"in e&&e.length,n=k.type(e);return"function"!=n&&!o(e)&&("array"==n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function f(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function n(e){return e in t?t[e]:t[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function h(e,t){return"number"!=typeof t||N[f(e)]?t:t+"px"}function i(e){return"children"in e?j.call(e.children):k.map(e.childNodes,function(e){return 1==e.nodeType?e:void 0})}function d(e,t){var n,r=e?e.length:0;for(n=0;n<r;n++)this[n]=e[n];this.length=r,this.selector=t||""}function p(e,t){return null==t?k(e):k(e).filter(t)}function v(e,t,n,r){return a(t)?t.call(e,n,r):t}function m(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function g(e,t){var n=e.className||"",r=n&&n.baseVal!==b;return t===b?r?n.baseVal:n:void(r?n.baseVal=t:e.className=t)}function y(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?k.parseJSON(t):t):t}catch(e){return t}}var b,w,k,E,x,C,S=[],T=S.concat,O=S.filter,j=S.slice,$=Z.document,R={},t={},N={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},A=/^\s*<(\w+|!)[^>]*>/,F=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,L=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,M=/^(?:body|html)$/i,P=/([A-Z])/g,U=["val","css","html","text","data","width","height","offset"],e=$.createElement("table"),D=$.createElement("tr"),I={tr:$.createElement("tbody"),tbody:e,thead:e,tfoot:e,td:D,th:D,"*":$.createElement("div")},q=/^[\w-]*$/,z={},B=z.toString,_={},H=$.createElement("div"),V={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},X=Array.isArray||function(e){return e instanceof Array};return _.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var r,i=e.parentNode,o=!i;return o&&(i=H).appendChild(e),r=~_.qsa(i,t).indexOf(e),o&&H.removeChild(e),r},x=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},C=function(n){return O.call(n,function(e,t){return n.indexOf(e)==t})},_.fragment=function(e,t,n){var r,i,o;return F.test(e)&&(r=k($.createElement(RegExp.$1))),r||(e.replace&&(e=e.replace(L,"<$1></$2>")),t===b&&(t=A.test(e)&&RegExp.$1),t in I||(t="*"),(o=I[t]).innerHTML=""+e,r=k.each(j.call(o.childNodes),function(){o.removeChild(this)})),u(n)&&(i=k(r),k.each(n,function(e,t){-1<U.indexOf(e)?i[e](t):i.attr(e,t)})),r},_.Z=function(e,t){return new d(e,t)},_.isZ=function(e){return e instanceof _.Z},_.init=function(e,t){var n;if(!e)return _.Z();if("string"==typeof e)if("<"==(e=e.trim())[0]&&A.test(e))n=_.fragment(e,RegExp.$1,t),e=null;else{if(t!==b)return k(t).find(e);n=_.qsa($,e)}else{if(a(e))return k($).ready(e);if(_.isZ(e))return e;if(X(e))n=O.call(e,function(e){return null!=e});else if(r(e))n=[e],e=null;else if(A.test(e))n=_.fragment(e.trim(),RegExp.$1,t),e=null;else{if(t!==b)return k(t).find(e);n=_.qsa($,e)}}return _.Z(n,e)},(k=function(e,t){return _.init(e,t)}).extend=function(t){var n,e=j.call(arguments,1);return"boolean"==typeof t&&(n=t,t=e.shift()),e.forEach(function(e){!function e(t,n,r){for(w in n)r&&(u(n[w])||X(n[w]))?(u(n[w])&&!u(t[w])&&(t[w]={}),X(n[w])&&!X(t[w])&&(t[w]=[]),e(t[w],n[w],r)):n[w]!==b&&(t[w]=n[w])}(t,e,n)}),t},_.qsa=function(e,t){var n,r="#"==t[0],i=!r&&"."==t[0],o=r||i?t.slice(1):t,a=q.test(o);return e.getElementById&&a&&r?(n=e.getElementById(o))?[n]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:j.call(a&&!r&&e.getElementsByClassName?i?e.getElementsByClassName(o):e.getElementsByTagName(t):e.querySelectorAll(t))},k.contains=$.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},k.type=c,k.isFunction=a,k.isWindow=o,k.isArray=X,k.isPlainObject=u,k.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},k.isNumeric=function(e){var t=Number(e),n=void 0===e?"undefined":J(e);return null!=e&&"boolean"!=n&&("string"!=n||e.length)&&!isNaN(t)&&isFinite(t)||!1},k.inArray=function(e,t,n){return S.indexOf.call(t,e,n)},k.camelCase=x,k.trim=function(e){return null==e?"":String.prototype.trim.call(e)},k.uuid=0,k.support={},k.expr={},k.noop=function(){},k.map=function(e,t){var n,r,i,o,a=[];if(l(e))for(r=0;r<e.length;r++)null!=(n=t(e[r],r))&&a.push(n);else for(i in e)null!=(n=t(e[i],i))&&a.push(n);return 0<(o=a).length?k.fn.concat.apply([],o):o},k.each=function(e,t){var n,r;if(l(e)){for(n=0;n<e.length;n++)if(!1===t.call(e[n],n,e[n]))return e}else for(r in e)if(!1===t.call(e[r],r,e[r]))return e;return e},k.grep=function(e,t){return O.call(e,t)},Z.JSON&&(k.parseJSON=JSON.parse),k.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){z["[object "+t+"]"]=t.toLowerCase()}),k.fn={constructor:_.Z,length:0,forEach:S.forEach,reduce:S.reduce,push:S.push,sort:S.sort,splice:S.splice,indexOf:S.indexOf,concat:function(){var e,t,n=[];for(e=0;e<arguments.length;e++)n[e]=_.isZ(t=arguments[e])?t.toArray():t;return T.apply(_.isZ(this)?this.toArray():this,n)},map:function(n){return k(k.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return k(j.apply(this,arguments))},ready:function(t){if("complete"===$.readyState||"loading"!==$.readyState&&!$.documentElement.doScroll)setTimeout(function(){t(k)},0);else{var e=function e(){$.removeEventListener("DOMContentLoaded",e,!1),Z.removeEventListener("load",e,!1),t(k)};$.addEventListener("DOMContentLoaded",e,!1),Z.addEventListener("load",e,!1)}return this},get:function(e){return e===b?j.call(this):this[0<=e?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(n){return S.every.call(this,function(e,t){return!1!==n.call(e,t,e)}),this},filter:function(t){return a(t)?this.not(this.not(t)):k(O.call(this,function(e){return _.matches(e,t)}))},add:function(e,t){return k(C(this.concat(k(e,t))))},is:function(e){return"string"==typeof e?0<this.length&&_.matches(this[0],e):e&&this.selector==e.selector},not:function(t){var n=[];if(a(t)&&t.call!==b)this.each(function(e){t.call(this,e)||n.push(this)});else{var r="string"==typeof t?this.filter(t):l(t)&&a(t.item)?j.call(t):k(t);this.forEach(function(e){r.indexOf(e)<0&&n.push(e)})}return k(n)},has:function(e){return this.filter(function(){return r(e)?k.contains(this,e):k(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!r(e)?e:k(e)},last:function(){var e=this[this.length-1];return e&&!r(e)?e:k(e)},find:function(e){var n=this;return e?"object"==(void 0===e?"undefined":J(e))?k(e).filter(function(){var t=this;return S.some.call(n,function(e){return k.contains(e,t)})}):1==this.length?k(_.qsa(this[0],e)):this.map(function(){return _.qsa(this,e)}):k()},closest:function(n,r){var i=[],o="object"==(void 0===n?"undefined":J(n))&&k(n);return this.each(function(e,t){for(;t&&!(o?0<=o.indexOf(t):_.matches(t,n));)t=t!==r&&!s(t)&&t.parentNode;t&&i.indexOf(t)<0&&i.push(t)}),k(i)},parents:function(e){for(var t=[],n=this;0<n.length;)n=k.map(n,function(e){return(e=e.parentNode)&&!s(e)&&t.indexOf(e)<0?(t.push(e),e):void 0});return p(t,e)},parent:function(e){return p(C(this.pluck("parentNode")),e)},children:function(e){return p(this.map(function(){return i(this)}),e)},contents:function(){return this.map(function(){return this.contentDocument||j.call(this.childNodes)})},siblings:function(e){return p(this.map(function(e,t){return O.call(i(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return k.map(this,function(e){return e[t]})},show:function(){return this.each(function(){var e,t,n;"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=(R[e=this.nodeName]||(t=$.createElement(e),$.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),R[e]=n),R[e]))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(t){var n=a(t);if(this[0]&&!n)var r=k(t).get(0),i=r.parentNode||1<this.length;return this.each(function(e){k(this).wrapAll(n?t.call(this,e):i?r.cloneNode(!0):r)})},wrapAll:function(e){if(this[0]){k(this[0]).before(e=k(e));for(var t;(t=e.children()).length;)e=t.first();k(e).append(this)}return this},wrapInner:function(i){var o=a(i);return this.each(function(e){var t=k(this),n=t.contents(),r=o?i.call(this,e):i;n.length?n.wrapAll(r):t.append(r)})},unwrap:function(){return this.parent().each(function(){k(this).replaceWith(k(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=k(this);(t===b?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(e){return k(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return k(this.pluck("nextElementSibling")).filter(e||"*")},html:function(n){return 0 in arguments?this.each(function(e){var t=this.innerHTML;k(this).empty().append(v(this,n,e,t))}):0 in this?this[0].innerHTML:null},text:function(n){return 0 in arguments?this.each(function(e){var t=v(this,n,e,this.textContent);this.textContent=null==t?"":""+t}):0 in this?this.pluck("textContent").join(""):null},attr:function(t,n){var e;return"string"!=typeof t||1 in arguments?this.each(function(e){if(1===this.nodeType)if(r(t))for(w in t)m(this,w,t[w]);else m(this,t,v(this,n,e,this.getAttribute(t)))}):0 in this&&1==this[0].nodeType&&null!=(e=this[0].getAttribute(t))?e:b},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){m(this,e)},this)})},prop:function(t,n){return"string"!=typeof(t=V[t]||t)||1 in arguments?this.each(function(e){if(r(t))for(w in t)this[V[w]||w]=t[w];else this[t]=v(this,n,e,this[t])}):this[0]&&this[0][t]},removeProp:function(e){return e=V[e]||e,this.each(function(){delete this[e]})},data:function(e,t){var n="data-"+e.replace(P,"-$1").toLowerCase(),r=1 in arguments?this.attr(n,t):this.attr(n);return null!==r?y(r):b},val:function(t){return 0 in arguments?(null==t&&(t=""),this.each(function(e){this.value=v(this,t,e,this.value)})):this[0]&&(this[0].multiple?k(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(o){if(o)return this.each(function(e){var t=k(this),n=v(this,o,e,t.offset()),r=t.offsetParent().offset(),i={top:n.top-r.top,left:n.left-r.left};"static"==t.css("position")&&(i.position="relative"),t.css(i)});if(!this.length)return null;if($.documentElement!==this[0]&&!k.contains($.documentElement,this[0]))return{top:0,left:0};var e=this[0].getBoundingClientRect();return{left:e.left+Z.pageXOffset,top:e.top+Z.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,t){if(arguments.length<2){var n=this[0];if("string"==typeof e){if(!n)return;return n.style[x(e)]||getComputedStyle(n,"").getPropertyValue(e)}if(X(e)){if(!n)return;var r={},i=getComputedStyle(n,"");return k.each(e,function(e,t){r[t]=n.style[x(t)]||i.getPropertyValue(t)}),r}}var o="";if("string"==c(e))t||0===t?o=f(e)+":"+h(e,t):this.each(function(){this.style.removeProperty(f(e))});else for(w in e)e[w]||0===e[w]?o+=f(w)+":"+h(w,e[w])+";":this.each(function(){this.style.removeProperty(f(w))});return this.each(function(){this.style.cssText+=";"+o})},index:function(e){return e?this.indexOf(k(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&S.some.call(this,function(e){return this.test(g(e))},n(e))},addClass:function(n){return n?this.each(function(e){if("className"in this){E=[];var t=g(this);v(this,n,e,t).split(/\s+/g).forEach(function(e){k(this).hasClass(e)||E.push(e)},this),E.length&&g(this,t+(t?" ":"")+E.join(" "))}}):this},removeClass:function(t){return this.each(function(e){if("className"in this){if(t===b)return g(this,"");E=g(this),v(this,t,e,E).split(/\s+/g).forEach(function(e){E=E.replace(n(e)," ")}),g(this,E.trim())}})},toggleClass:function(n,r){return n?this.each(function(e){var t=k(this);v(this,n,e,g(this)).split(/\s+/g).forEach(function(e){(r===b?!t.hasClass(e):r)?t.addClass(e):t.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===b?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===b?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),r=M.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(k(e).css("margin-top"))||0,n.left-=parseFloat(k(e).css("margin-left"))||0,r.top+=parseFloat(k(t[0]).css("border-top-width"))||0,r.left+=parseFloat(k(t[0]).css("border-left-width"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||$.body;e&&!M.test(e.nodeName)&&"static"==k(e).css("position");)e=e.offsetParent;return e})}},k.fn.detach=k.fn.remove,["width","height"].forEach(function(r){var i=r.replace(/./,function(e){return e[0].toUpperCase()});k.fn[r]=function(t){var e,n=this[0];return t===b?o(n)?n["inner"+i]:s(n)?n.documentElement["scroll"+i]:(e=this.offset())&&e[r]:this.each(function(e){(n=k(this)).css(r,v(this,t,e,n[r]()))})}}),["after","prepend","before","append"].forEach(function(t,a){var s=a%2;k.fn[t]=function(){var n,r,i=k.map(arguments,function(e){var t=[];return"array"==(n=c(e))?(e.forEach(function(e){return e.nodeType!==b?t.push(e):k.zepto.isZ(e)?t=t.concat(e.get()):void(t=t.concat(_.fragment(e)))}),t):"object"==n||null==e?e:_.fragment(e)}),o=1<this.length;return i.length<1?this:this.each(function(e,t){r=s?t:t.parentNode,t=0==a?t.nextSibling:1==a?t.firstChild:2==a?t:null;var n=k.contains($.documentElement,r);i.forEach(function(e){if(o)e=e.cloneNode(!0);else if(!r)return k(e).remove();r.insertBefore(e,t),n&&function e(t,n){n(t);for(var r=0,i=t.childNodes.length;r<i;r++)e(t.childNodes[r],n)}(e,function(e){if(!(null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src)){var t=e.ownerDocument?e.ownerDocument.defaultView:Z;t.eval.call(t,e.innerHTML)}})})})},k.fn[s?t+"To":"insert"+(a?"Before":"After")]=function(e){return k(e)[t](this),this}}),_.Z.prototype=d.prototype=k.fn,_.uniq=C,_.deserializeValue=y,k.zepto=_,k}();return Z.Zepto=e,void 0===Z.$&&(Z.$=e),function(l){function f(e){return e._zid||(e._zid=t++)}function a(e,t,n,r){if((t=h(t)).ns)var i=new RegExp("(?:^| )"+t.ns.replace(" "," .* ?")+"(?: |$)");return(E[f(e)]||[]).filter(function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||i.test(e.ns))&&(!n||f(e.fn)===f(n))&&(!r||e.sel==r)})}function h(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function d(e,t){return e.del&&!n&&e.e in r||!!t}function p(e){return x[e]||n&&r[e]||e}function u(i,e,t,o,a,s,c){var n=f(i),u=E[n]||(E[n]=[]);e.split(/\s/).forEach(function(e){if("ready"==e)return l(document).ready(t);var n=h(e);n.fn=t,n.sel=a,n.e in x&&(t=function(e){var t=e.relatedTarget;return!t||t!==this&&!l.contains(this,t)?n.fn.apply(this,arguments):void 0});var r=(n.del=s)||t;n.proxy=function(e){if(!(e=m(e)).isImmediatePropagationStopped()){e.data=o;var t=r.apply(i,e._args==y?[e]:[e].concat(e._args));return!1===t&&(e.preventDefault(),e.stopPropagation()),t}},n.i=u.length,u.push(n),"addEventListener"in i&&i.addEventListener(p(n.e),n.proxy,d(n,c))})}function v(t,e,n,r,i){var o=f(t);(e||"").split(/\s/).forEach(function(e){a(t,e,n,r).forEach(function(e){delete E[o][e.i],"removeEventListener"in t&&t.removeEventListener(p(e.e),e.proxy,d(e,i))})})}function m(r,i){if(i||!r.isDefaultPrevented){i||(i=r),l.each(e,function(e,t){var n=i[e];r[e]=function(){return this[t]=s,n&&n.apply(i,arguments)},r[t]=C});try{r.timeStamp||(r.timeStamp=Date.now())}catch(e){}(i.defaultPrevented!==y?i.defaultPrevented:"returnValue"in i?!1===i.returnValue:i.getPreventDefault&&i.getPreventDefault())&&(r.isDefaultPrevented=s)}return r}function g(e){var t,n={originalEvent:e};for(t in e)i.test(t)||e[t]===y||(n[t]=e[t]);return m(n,e)}var y,t=1,b=Array.prototype.slice,w=l.isFunction,k=function(e){return"string"==typeof e},E={},o={},n="onfocusin"in Z,r={focus:"focusin",blur:"focusout"},x={mouseenter:"mouseover",mouseleave:"mouseout"};o.click=o.mousedown=o.mouseup=o.mousemove="MouseEvents",l.event={add:u,remove:v},l.proxy=function(e,t){var n=2 in arguments&&b.call(arguments,2);if(w(e)){var r=function(){return e.apply(t,n?n.concat(b.call(arguments)):arguments)};return r._zid=f(e),r}if(k(t))return n?(n.unshift(e[t],e),l.proxy.apply(null,n)):l.proxy(e[t],e);throw new TypeError("expected function")},l.fn.bind=function(e,t,n){return this.on(e,t,n)},l.fn.unbind=function(e,t){return this.off(e,t)},l.fn.one=function(e,t,n,r){return this.on(e,t,n,r,1)};var s=function(){return!0},C=function(){return!1},i=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,e={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};l.fn.delegate=function(e,t,n){return this.on(t,e,n)},l.fn.undelegate=function(e,t,n){return this.off(t,e,n)},l.fn.live=function(e,t){return l(document.body).delegate(this.selector,e,t),this},l.fn.die=function(e,t){return l(document.body).undelegate(this.selector,e,t),this},l.fn.on=function(t,i,n,o,a){var s,c,r=this;return t&&!k(t)?(l.each(t,function(e,t){r.on(e,i,n,t,a)}),r):(k(i)||w(o)||!1===o||(o=n,n=i,i=y),(o===y||!1===n)&&(o=n,n=y),!1===o&&(o=C),r.each(function(e,r){a&&(s=function(e){return v(r,e.type,o),o.apply(this,arguments)}),i&&(c=function(e){var t,n=l(e.target).closest(i,r).get(0);return n&&n!==r?(t=l.extend(g(e),{currentTarget:n,liveFired:r}),(s||o).apply(n,[t].concat(b.call(arguments,1)))):void 0}),u(r,t,o,n,i,c||s)}))},l.fn.off=function(e,n,t){var r=this;return e&&!k(e)?(l.each(e,function(e,t){r.off(e,n,t)}),r):(k(n)||w(t)||!1===t||(t=n,n=y),!1===t&&(t=C),r.each(function(){v(this,e,t,n)}))},l.fn.trigger=function(e,t){return(e=k(e)||l.isPlainObject(e)?l.Event(e):m(e))._args=t,this.each(function(){e.type in r&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):l(this).triggerHandler(e,t)})},l.fn.triggerHandler=function(n,r){var i,o;return this.each(function(e,t){(i=g(k(n)?l.Event(n):n))._args=r,l.each(a(i.target=t,n.type||n),function(e,t){return o=t.proxy(i),!i.isImmediatePropagationStopped()&&void 0})}),o},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){l.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),l.Event=function(e,t){k(e)||(e=(t=e).type);var n=document.createEvent(o[e]||"Events"),r=!0;if(t)for(var i in t)"bubbles"==i?r=!!t[i]:n[i]=t[i];return n.initEvent(e,r,!0),m(n)}}(e),function(){try{getComputedStyle(void 0)}catch(e){var n=getComputedStyle;Z.getComputedStyle=function(e,t){try{return n(e,t)}catch(e){return null}}}}(),e});var K=function(){var i="https://flx0wig82l.execute-api.us-east-1.amazonaws.com/prod",t=function(){},o=function(e){console.error(e),t(e)},a=function(e){if(e.success)return e;throw e.message};return{onfail:function(e){return t=e},requestUpload:function(e){return fetch(i+"/upload",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name,type:e.type,_:Math.random()})}).then(function(e){return e.json()}).then(a).catch(o)},upload:function(r,i,o){return new Promise(function(e,t){var n=new XMLHttpRequest;n.upload.addEventListener("progress",function(e){e.lengthComputable&&o(e.loaded/e.total*100)}),n.upload.addEventListener("load",function(){e()}),n.open("PUT",r),n.overrideMimeType(i.type),n.send(i)})},analyze:function(e){return fetch(i+"/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:e})}).then(function(e){return e.json()}).then(a).catch(o)},exportFile:function(e,t,n,r){return fetch(i+"/export",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:e,overlap:parseFloat(t),a:parseFloat(n),b:parseFloat(r),nodip:!0})}).then(function(e){return e.json()}).then(a).catch(o)},getFile:function(r,i){return new Promise(function(t,e){var n=new XMLHttpRequest;n.addEventListener("progress",function(e){e.lengthComputable&&i(e.loaded/e.total*100)}),n.addEventListener("load",function(){var e=n.response;try{e.lastModifiedDate=new Date,e.name=r.split("/").slice(-1)[0]}catch(e){}t(e)}),n.open("GET",r),n.responseType="blob",n.send()})}}}();$(document).ready(function(){ga("create","UA-104916266-2","auto"),ga("send","pageview"),Raven.config("https://1785ced2548545e8bcd89f05f0c63bfb@sentry.io/1255218").install(),Raven.context(function(){setTimeout(function(){G.init()},500),Y.attachEventListeners(),window.performance&&ga("send","timing","Dependencies","load",Math.round(performance.now()))}),window.performance&&ga("send","timing","Dependencies","DOMready",Math.round(performance.now()))});var Y=function(){var r=void 0,i=void 0,n=void 0,o=void 0,a=void 0,s=void 0,c=void 0,u=void 0,l=void 0,f=void 0,h=void 0,d=!1,p=void 0,v=void 0,m=void 0,g=void 0,y=void 0,b=0,w={},k=void 0,E=!1,x=!1,C=!1,S=$(".player .scrubber input"),T=$("#results .list"),O=$(".more .export"),j=$(".more .loop"),R=$(".controls .prev"),N=$(".controls .next"),A=$(".controls .play"),F=$(".player .scrubber .transition .loop"),L=$(".header > div > div"),M=$(".filter"),P="icon-pause-circled",U="icon-play-circled",D=".play i",I=".selected.row",q=".row",z=".sample",B=function(e){return parseInt(e/60)+":"+("00"+parseInt(e%60)).substr(-2)},_=function(){return 0<T.find(I).length},H=function e(t){if("suspended"!==p.state){t=Math.max(0,parseFloat(t)),g=p.createBufferSource(),y=p.createBufferSource(),g.buffer=y.buffer=v,i&&i.disconnect(),r&&r.disconnect(),i=p.createGain(),r=p.createGain(),g.connect(i),i.connect(p.destination),y.connect(r),r.connect(p.destination);var n=p.currentTime;b=n-t,i.gain.value=r.gain.value=0,t<=c?(i.gain.value=1,i.gain.setValueAtTime(1,n+c-t-o),i.gain.linearRampToValueAtTime(0,n+c-t),g.start(n,t,c-t),r.gain.value=0,r.gain.setValueAtTime(0,n+c-t-o),r.gain.linearRampToValueAtTime(1,n+c-t),y.start(n,u-c+t+o)):(x&&j.click(),r.gain.value=1,y.start(n,u+t-c)),S.val(t),E=!0,A.attr("title","Pause").find("i").removeClass().addClass("icon-pause"),$(".selected.row .play i").addClass(P),O.removeClass("off"),$(".player .scrubber .transition").toggle(0!=c),ga("send","event","Player","play")}else p.resume().then(function(){e(t)})},V=function(){$(".selected.row .viewportalign").focus().blur()},X=void 0,Z=function(){var e,t;j.addClass("ed"),X&&clearTimeout(X),X=setTimeout(function(){H(l),j.removeClass("ed")},600),J(),e=S.val(),t=l,e=parseFloat(e),t=parseFloat(t),n&&n.disconnect(),E=!1,m&&((n=p.createBufferSource()).buffer=m,n.playbackRate.value=1.5,n.connect(p.destination),n.start(p.currentTime,a-t+.15,.3*n.playbackRate.value))},J=function(){i&&i.disconnect(),r&&r.disconnect(),E=!1,A.attr("title","Play").find("i").removeClass().addClass("icon-play"),T.find(D).removeClass().addClass(U)},W=function(){var e=T.find(z),t=T.find(I);t=0!=t.length&&t.data("in")+" "+t.data("out"),T.find(q).not(z).remove();for(var n=0;n<w.results.length;n++){var r=e.clone().removeClass("sample"),i=w.results[n];if(!(d&&d<i[1])){r.find(".length").text(B(i[1]));for(var o=r.find(".similarity").attr("title","~"+parseInt(100*(i[0]-1))+"% similar"),a=0;a<Math.ceil(5*(i[0]-1));a++)o.append($("<div>"));var s=Y.getLength();0==i[2]?(r.addClass("original"),r.find(".transition").text("Original")):(r.find(".transition").attr("title",B(i[2])+" cut to "+B(i[3])),r.find(".transition .a").width(i[2]/s*100+"%"),r.find(".transition .b").width(100*(1-i[3]/s)+"%")),r.data("in",i[2]).data("out",i[3]).data("length",i[1]),t==i[2]+" "+i[3]&&r.addClass("selected").find(D).removeClass().addClass(P),T.append(r)}}};return{attachEventListeners:function(){setInterval(function(){if(E){var e=p.currentTime-b;t||n||S.val(e),s<e&&(x?Z():J()),x&&f<=e&&Z()}},100);var e=!1,t=!1,n=!1;S.change(function(){e&&clearTimeout(e),t=!0,e=setTimeout(function(){Y.playAt(S.val()),t=!1},200),ga("send","event","UI features","scrub")}).mouseover(function(){return n=!0}).mouseout(function(){return n=!1}),$(document).keydown(function(e){if(!(e.ctrlKey||e.shiftKey||e.altKey||$(e.target).is("input[type=text], input[type=radio], textarea"))){switch(e.which){case 37:case 38:if($(e.target).is("input[type=range]"))return;R.click();break;case 39:case 40:if($(e.target).is("input[type=range]"))return;N.click();break;case 32:if($(e.target).is("button"))return;A.click();break;case 76:j.click();break;default:return}ga("send","event","UI features","keyboard"),e.preventDefault()}}),A.click(function(e){$(".controls .play i").hasClass("icon-play")?_()?H(S.val()):T.find(q).first().click():J()}),R.click(function(){if(r=!0,_()){var e=T.find(I).prev(q).not(z);0<e.length?e.click():J()}else T.find(q).last().click();V()}),N.click(function(){if(r=!0,_()){var e=T.find(I).next(q);0<e.length?e.click():J()}else A.click();V()}),j.click(function(){j.toggleClass("off",!(x=!x)).attr("title","Loop "+(x?"on":"off")),F.toggle(x),ga("send","event","UI features","loop")}),O.click(function(){if(!O.hasClass("off")&&!O.hasClass("ing")){var e=T.find(I);O.addClass("ing"),K.exportFile(k,w.overlap,e.data("in"),e.data("out")).then(function(e){var t=document.createElement("a");t.href=e.url,document.body.appendChild(t),t.click(),document.body.removeChild(t),O.removeClass("ing"),ga("send","event","File process","download")}),C||($("#results").removeClass("open").addClass("gone"),$("#feedback").addClass("open"),J()),ga("send","event","File process","export")}}),$("#feedback form").on("submit",function(){C=!0,$("#feedback .cancel").click(),$(".feedback").addClass("collected"),ga("send","event","Feedback","submit")}),$("#feedback .cancel").click(function(e){return $("#feedback").removeClass("open").addClass("gone"),$("#results").removeClass("gone").addClass("open"),ga("send","event","Feedback","dismiss"),e.preventDefault(),!1});var r=!1;T.on("click",q,function(e){var t=$(e.currentTarget),n=t.find(D).hasClass(P);T.find(D).removeClass().addClass(U),X&&clearTimeout(X),n&&!r?Y.pause():(T.find(q).removeClass("selected"),Y.setup(t.data("in"),t.data("out"),w.overlap,t.data("length")).playRange(t.data("in")-h,parseFloat(t.data("in"))+h),t.addClass("selected").find(D).addClass(P),r=!1)}),M.find("i").click(function(){M.toggleClass("open"),M.hasClass("open")&&(M.find("input").focus().select(),ga("send","event","UI features","filter"))}),M.find("input").on("change keypress keyup",function(e){var t=$(e.currentTarget).val();if(0==t.length)d=!1,M.find(".convert").hide();else{var n=parseInt(t);if(t.includes(":")){var r=t.split(":");n=60*parseInt(r[0])+parseInt(r[1]||0),M.find(".convert").text("("+n+" seconds)")}else M.find(".convert").text("("+Y.toMins(n)+" minutes)");M.find(".convert").show(),d=n}W(),27==e.which&&M.find("input").val("").change(),13!=e.which&&27!=e.which||(M.find("input").blur(),M.removeClass("open"))}),L.click(function(e){var t=$(e.currentTarget),n=t.data("index");if(void 0!==n){L.removeClass("desc asc");var r=t.data("order")||"desc";"desc"==r?(t.addClass("asc").data("order","asc"),r=1):(t.addClass("desc").data("order","desc"),r=-1),w.results.sort(function(e,t){return e[n]<t[n]?-1*r:t[n]<e[n]?1*r:0}),W(),ga("send","event","UI features","sort")}}),$(".banner .close").click(function(){$(".banner").remove(),ga("send","event","UI features","banner dismiss")}),$("#anotherone").click(function(){$("#results").removeClass("open"),$("#wizard").removeClass("gone").height(),$("#wizard").addClass("open"),G.reset(),J(),ga("send","event","UI features","restart")})},init:function(e,t,n){var r=window.AudioContext||window.webkitAudioContext;p=new r,Y.pause(),p.decodeAudioData(e,function(e){a=(v=e).duration,t(v)},function(e){n(e.err)})},createRewindBuffer:function(){m=new AudioBuffer({length:v.length,numberOfChannels:v.numberOfChannels,sampleRate:v.sampleRate});for(var e=0;e<v.numberOfChannels;e++){var t=Array.prototype.reverse.call(v.getChannelData(e).slice(0));m.copyToChannel(t,e)}},getLength:function(){return a},setup:function(e,t,n,r){return c=parseFloat(e),u=parseFloat(t),o=n,s=r,$(".player .scrubber .transition .marker").css({left:c/s*100+"%",width:o/s*100+"%"}),S.attr("max",s).val(0),Y},pause:J,playAt:H,playRange:function(e,t){l=parseFloat(e),f=parseFloat(t),F.css({left:100*Math.max(0,l/s)+"%",right:100*Math.min(1,(s-f)/s)+"%"}).toggle(x),H(e)},populate:function(e,t){k=e,t.results.unshift([2,a,0,0]),h=4*(w=t).overlap,W()},toMins:B}}();!function(e,t,n,r,i,o,a){e.GoogleAnalyticsObject="ga",e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,o=t.createElement("script"),a=t.getElementsByTagName("script")[0],o.async=1,o.src="https://www.google-analytics.com/analytics.js",a.parentNode.insertBefore(o,a)}(window,document);var G=function(){var i=$(".file .drop"),r=$(".file .error"),o=$(".file"),a=$("#wizard"),s=$("#samplefile .label div"),c=function(e){return e.preventDefault(),!1},u=function(e){$("#wizard .step").removeClass("active"),$("#wizard ."+e).addClass("active")},l=function(e){r.text(e).show(),f=!1},f=!1,h=function(e){if(ga("send","event","File process","start"),$(".demo .arrow").hide(),!f){f=!0,r.hide();var t=e[0];if(1!=e.length)l("You have to select one file.");else if(104857600<t.size)l("The selected file is too large. Files have to be smaller than 100 MB.");else if("audio"!=t.type.split("/")[0])l("The selected file isn't an audio file.");else{o.addClass("processing");var n=new FileReader;n.addEventListener("loadend",function(e){Y.init(e.target.result,function(e){480<e.duration?(l("The selected file is too long. Files have to be shorter than 8 minutes."),o.removeClass("processing")):(d(t),Y.createRewindBuffer())},function(){l("Failed to read audio file. The selected file appears to be corrupted.")})}),n.readAsArrayBuffer(t)}}},d=function(t){var n,r;K.requestUpload(t).then(function(e){return o.removeClass("processing"),u("upload"),n=e.key,K.onfail(function(){return l("An API error occured.")}),K.upload(e.url,t,function(e){return $(".upload .progress div").width(e+"%")})}).then(function(){return new Promise(function(e,t){setTimeout(e,300)})}).then(function(){ga("send","event","File process","upload"),$(".analysis").addClass("working");var e=0;return r=setInterval(function(){$(".analysis .progress div").width(e/100*100+"%"),e++},300),u("analysis"),K.onfail(function(e){return $(".analysis .error").text(e).show()}),K.analyze(n)}).then(function(e){ga("send","event","File process","analysis"),clearInterval(r),$(".analysis .progress div").width("100%"),Y.populate(n,e.data),$(".header .length").attr("data-order","asc").click(),a.removeClass("open").addClass("gone"),$("#results").addClass("open").height(),$("#results .list").addClass("in"),setTimeout(function(){$(".above").addClass("ask")},6e3)}).catch(function(e){console.error(e)})};return{init:function(){(window.AudioContext||window.webkitAudioContext)&&self.fetch&&window.FileReader&&"draggable"in document.createElement("b")?($(".demo .arrow").addClass("enter"),setTimeout(function(){return $(".demo .arrow").addClass("show")},500),function(){$(".feedback .options a").click(function(){$(".feedback").addClass("collected"),ga("send","event","Feedback","click")}),$(".file .drop input").on("change",function(e){return h(e.target.files),ga("send","event","UI features","file select manually"),c(e)}),$(".file .drop .manual button").click(function(){return $(".file .drop input").click()});var t=void 0;$("#application").on("drop",function(e){if($(".demo .arrow").hide(),i.removeClass("over"),0<e.dataTransfer.files.length)ga("send","event","UI features","file drop"),h(e.dataTransfer.files);else{var t=e.dataTransfer.getData("Text");if(!t)return;ga("send","event","UI features","demo drop");var n=$(".demo p").text(),r=setTimeout(function(){$(".demo p").text("Downloading the file, this might take a bit...")},1e3);s.width(0).show(),K.getFile(t,function(e){return s.width(e+"%")}).then(function(e){s.hide(),$(".demo p").text(n),clearTimeout(r),h([e])})}return c(e)}).on("dragenter dragover",function(e){i.addClass("over"),clearTimeout(t),c(e)}).on("dragleave",function(){clearTimeout(t),t=setTimeout(function(){return i.removeClass("over")},100)}),$("#samplefile").click(function(e){e.preventDefault(),ga("send","event","UI features","demo file click"),$(".demo .em").toggleClass("look")}).on("dragstart",function(e){return e.dataTransfer.setData("Text",e.target.href)})}(),$("#init").removeClass("open").addClass("gone"),a.addClass("open")):($("#init").removeClass("open").addClass("gone"),$("#outdated").addClass("open"),ga("send","event","Outdated"))},reset:function(){u("file"),f=!1,a.find(".progress div").hide().width(0),a.find(".progress div").show()}}}();
//# sourceMappingURL=map/scripts.js.map
